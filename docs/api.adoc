
== Report Template

The file represented by `templateFilename` must exist in the template folder of the `dina-export-api`.

[source, json]
----
{
  "data": {
    "type": "report-template",
    "attributes": {
        "group": "AAFC",
        "templateOutputMediaType": "application/json",
        "outputMediaType": "text/csv",
        "name": "csv-test",
        "templateFilename": "testJson.flt"
    }
  }
}
----

== Report Request
[source, json]
----
{
    "data": {
        "type": "report-request",
        "attributes": {
            "group": "AAFC",
            "reportTemplateUUID": "08b871ed-52c3-4ef9-be86-a51504499a21",
            "payload": {
                "data": [
                    {
                        "sampleName": "ABC-1",
                        "extractName": "b8",
                        "date": "2003-04-02"
                    },
                    {
                        "sampleName": "ABC-2",
                        "extractName": "b45",
                        "date": "2003-04-03"
                    }
                ]
            }
        }
    }
}
----

== Data Export Request
[source, json]
----
{
  "data": {
    "type": "export-request",
    "attributes": {
        "source": "dina_material_sample_index",
        "query": "{\"query\": {\"match_all\": {}}, \"sort\": [{\"data.attributes.createdOn\": \"asc\"}]}",
        "columns": ["materialSampleName", "collectingEvent.dwcVerbatimLocality"]
    }
  }
}
----

== Download File

[source]
----
GET /file/{fileId}?type=LABEL|DATA_EXPORT
----